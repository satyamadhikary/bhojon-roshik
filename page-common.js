(function(){var body=document.body,header=document.getElementById('siteHeader'),menuToggle=document.getElementById('menuToggle'),drawer=document.getElementById('mobileDrawer');function setHeader(){if(header)header.classList.toggle('scrolled',window.scrollY>10)}function setDrawer(open){if(!drawer||!menuToggle)return;drawer.classList.toggle('open',open);drawer.setAttribute('aria-hidden',String(!open));menuToggle.setAttribute('aria-expanded',String(open));body.classList.toggle('drawer-open',open);if(!open&&drawer){drawer.querySelectorAll('.drawer-submenu').forEach(function(menu){menu.classList.remove('open');var btn=menu.querySelector('[data-drawer-toggle]');if(btn)btn.setAttribute('aria-expanded','false');var panel=menu.querySelector('.drawer-submenu-links');if(panel)panel.setAttribute('aria-hidden','true')})}}function setActiveNav(){var path=(location.pathname.split('/').pop()||'get-started.html').toLowerCase();document.querySelectorAll('.desktop-nav a, .drawer-nav a').forEach(function(link){var href=(link.getAttribute('href')||'').toLowerCase();if(!href)return;link.classList.toggle('home-link',href===path)})}if(menuToggle&&drawer){menuToggle.addEventListener('click',function(){setDrawer(!drawer.classList.contains('open'))});drawer.querySelectorAll('[data-close-drawer], .drawer-link:not([data-drawer-toggle])').forEach(function(n){n.addEventListener('click',function(){setDrawer(false)})});drawer.querySelectorAll('[data-drawer-toggle]').forEach(function(btn){btn.addEventListener('click',function(e){e.preventDefault();e.stopPropagation();var wrap=btn.closest('.drawer-submenu');if(!wrap)return;var open=wrap.classList.toggle('open');btn.setAttribute('aria-expanded',String(open));var panel=wrap.querySelector('.drawer-submenu-links');if(panel)panel.setAttribute('aria-hidden',String(!open))})});document.addEventListener('keydown',function(e){if(e.key==='Escape'&&drawer.classList.contains('open'))setDrawer(false)})}setHeader();setActiveNav();window.addEventListener('scroll',setHeader,{passive:true});document.querySelectorAll('.nav-drop-toggle').forEach(function(btn){btn.addEventListener('click',function(e){e.preventDefault();e.stopPropagation();var wrap=btn.closest('.nav-dropdown');if(!wrap)return;var open=!wrap.classList.contains('open');document.querySelectorAll('.nav-dropdown.open').forEach(function(other){if(other!==wrap){other.classList.remove('open');var ob=other.querySelector('.nav-drop-toggle');if(ob)ob.setAttribute('aria-expanded','false')}});wrap.classList.toggle('open',open);btn.setAttribute('aria-expanded',String(open))})});document.addEventListener('click',function(){document.querySelectorAll('.nav-dropdown.open').forEach(function(wrap){wrap.classList.remove('open');var btn=wrap.querySelector('.nav-drop-toggle');if(btn)btn.setAttribute('aria-expanded','false')})});})();


